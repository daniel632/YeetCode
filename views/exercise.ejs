<% include ./partials/header-top %>

<script src="//ajaxorg.github.io/ace-builds/src-min-noconflict/ace.js" type="text/javascript" charset="utf-8"></script>

<title>Yoot!</title>

<% include ./partials/header-bottom %>

<!-- Custom CSS -->
<link rel="stylesheet" href="/stylesheets/exercise.css">

<div id="header">
    <a href="/">
        YeetCode
    </a>
</div>
<div id="exercise-details" class="pt-3">
    <div id="exercise-info">
        <% if (no > 0){ %>
            <a href="/exercise/<%= parseInt(no)-1 %>">
                <i class="fas fa-angle-left"></i>
            </a>
        <% }else{ %>
            <i class="fas fa-angle-left" style="opacity:0; cursor: default;"></i>
        <% } %>
        <h3 class="px-3">Exercise <%= parseInt(no)+1 %></h3>
        <% if (no < 4){ %>
            <a href="/exercise/<%= parseInt(no)+1 %>">
                <i class="fas fa-angle-right"></i>
            </a>
        <% }else{ %>
            <i class="fas fa-angle-right" style="opacity:0; cursor: default"></i>
        <% } %>
    </div>
    <p class="mt-2"><%= question %></p>
</div>

<section id="content">
    <div class="row">
        <div class="col-6">
            <div id="editor"></div>
            <form method="POST" action="/exercise/<%= no %>">
                <textarea name="code" style="visibility: hidden"></textarea>
                <button id="submit-btn">Run Code</button>
            </form>
        </div>
        <div id="code_vis" class="col-6"></div>
    </div>
</section>

<script>
    var editor = ace.edit("editor");
    editor.getSession().setUseWorker(false);
    editor.setTheme("ace/theme/dracula");
    editor.getSession().setMode("ace/mode/python");

    $("#submit-btn").on("click", function(){
        var text = editor.getValue();
        $("textarea").text(text);
    });
</script>

<% include ./partials/footer %>